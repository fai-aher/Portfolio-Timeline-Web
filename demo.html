<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Timeline Card</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Chivo+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/pp-neue-montreal" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Raleway', sans-serif;
            background-color: #dddddd;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem;
        }
        
        .card-container {
            display: flex;
            position: relative;
        }
        
        .timeline-card {
            width: 364px;
            min-height: 553px;
            height: auto;
            background-color: #f0f0f06e;
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        /* Card Header */
        .card-header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        
        .logo {
            width: 120px;
            height: auto;
            margin-right: 15px;
            margin-left: 5px;
            margin-top: 12px;
        }
        
        .year-container {
            display: flex;
            flex-direction: column;
        }
        
        .year {
            font-size: 85px; /* PP Neutra font in image */
            color: #666;
            font-weight: 500;
            line-height: 0.9;
            font-family: 'PP Neue Montreal', sans-serif;
        }
        
        .status {
            font-size: 48px;
            margin-top: -10px;
            font-weight: 500;
            color: #666;
            font-family: 'PP Neue Montreal', sans-serif;
        }
        
        /* Card Content */
        .role-container {
            margin-bottom: 20px;
            position: relative;
            width: 100%;
        }

        #leadership-arrow {
            color: #003DAE;
        }
        
        #roles-detail-panel {
            width: 320px;
        }

        .role {
            font-size: 27px; /* As per image - Chivo Mono */
            font-weight: 500;
            font-family: 'Chivo Mono', monospace;
            width: 104%;
            padding: 3px 10px;
            border: 2px solid transparent;
            border-radius: 10px 0px 0px 10px;
            color: #000000;
            background-color: #00E494;
            margin-bottom: 5px;
            margin-left: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .role.expanded {
            background-color: transparent;
            border: 2px solid #1de9b6;
        }
        
        .role-arrow {
            margin-left: 45%;
            display: inline-block;
            transition: transform 0.3s ease;
        }
        
        .role-arrow.right {
            transform: rotate(-90deg);
        }
        
        .department {
            font-size: 16px; /* As per image - Chivo Mono */
            font-family: 'Chivo Mono', monospace;
            color: #555;
            margin-top: 5px;
            padding-left: 32px;
            padding-right: 15px;
        }
        
        /* Section styling with horizontal lines */
        .section {
            margin-bottom: 15px;
            position: relative;
            padding-left: 15px;
            padding-right: 15px;
            background-color: transparent;
        }
        
        .section-title-container {
            position: relative;
            margin-bottom: -8px;
            border-bottom: 1px solid #a1a1a1;
            padding-bottom: 5px;
        }
        
        .section-title {
            width: 100%;
            font-family: 'Chivo Mono', monospace;
            font-size: 20px; /* As per image */
            margin-left: 10px;
            font-weight: 500;
            display: flex;
            align-items: center;
            cursor: pointer;
            color: #070707;
            background-color: transparent;
            display: inline-block;
        }
        
        .section-title-arrow {
            margin-left: 0px;
            display: inline-block;
            transition: transform 0.3s ease;
        }
        
        .section-title-arrow.right {
            transform: rotate(-90deg);
        }
        
        /* Leadership section */
        .leadership-content {
            font-size: 15px; /* As per image - Raleway */
            line-height: 1.2;
            color: #666;
            margin-top: 20px;
            width: 100%;
            padding-left: 10px;
            padding-right: 0px;
            font-family: 'Raleway', sans-serif;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .leadership-content.expanded {
            max-height: 300px;
            transition: max-height 0.5s ease-in;
        }
        
        .leadership-content p {
            margin-bottom: 10px;
        }
        
        .highlight-text {
            color: #003DAE;
            font-weight: bold;
        }
        
        /* Achievement Items */
        .achievement-item {
            margin-bottom: 0px;
            display: flex;
            align-items: baseline;
            cursor: pointer;
            transition: margin-top 0.3s ease, margin-bottom 0.3s ease;
        }
        
        .achievement-bullet {
            color: #666;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .achievement-text {
            font-size: 15px; /* As per image - Raleway */
            color: #666;
            font-weight: 500;
            font-family: 'Raleway', sans-serif;
        }
        
        .achievements-bottom-line {
            border-bottom: 0.7px solid #ddd;
            margin-top: 10px;
        }
        
        /* Skills Section */
        .skills {
            margin-top: 0px;
            position: relative;
            bottom: 20px;
            left: 20px;
            display: flex;
            align-items: center;
        }
        
        .skills-title {
            font-size: 20px; /* As per image - Chivo Mono */
            font-weight: 500;
            font-family: 'Chivo Mono', monospace;
            margin-top: 20px;
            color: #000000;
        }
        
        .info-icon {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #ddd;
            color: #666;
            font-size: 13px;
            font-weight: bold;
            margin-left: 5px;
            cursor: pointer;
        }
        
        /* Expandable content panels to the right */
        .expandable-panel {
            position: absolute;
            left: 364px;
            background-color: #f0f0f06e;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            width: 480px;
            height: auto;
            color: #666;
            font-size: 14px;
            z-index: 0;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease, visibility 0.3s, top 0.8s ease;
        }
        
        .expandable-panel.active {
            opacity: 1;
            visibility: visible;
            z-index: 0;
        }
        
        .role-details-panel {
            top: 115px;
            width: 360px;
        }
        
        .leadership-panel {
            top: 200px;
        }
        
        .achievement1-panel {
            top: 300px;
        }
        
        .achievement2-panel {
            top: 300px;
        }
        
        .achievement3-panel {
            top: 300px;
        }
        
        .panel-section {
            margin-bottom: 10px;
        }
        
        .panel-section h4 {
            color: #000000;
            margin-bottom: 6px;
            font-size: 14px; /* Raleway medium italic as per image */
            font-family: 'Raleway', sans-serif;
            font-style: italic;
            font-weight: bold;
        }
        
        .panel-section p {
            color: #333;
            font-size: 13px; /* Raleway regular as per image */
            line-height: 1.4;
            margin-bottom: 10px;
            font-family: 'Raleway', sans-serif;
        }
        
        .panel-section p .blue-text {
            color: #003DAE;
            font-weight: bold;
            font-family: 'Raleway', sans-serif;
        }
        
        .panel-checkmark {
            color: #003DAE;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .achievements-section .achievement-item {
            margin-top: 10px;
        }

        .achievement-item.active .achievement-text {
            color: #003DAE;
            font-weight: bold;
            margin-top: 80px;
            margin-bottom: 80px;
            padding-right: 20px;
        }

        
        /* Extra styles to match the font callouts in the image */
        .lo-subrayado {
            text-decoration: underline;
            font-family: 'Raleway', sans-serif;
            font-size: 14px;
            font-weight: bold;
        }
        
        .arrow-container {
            display: inline-flex;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="card-container">
        <!-- Main Card -->
        <div class="timeline-card">
            <div class="card-header">
                <img src="https://upload.wikimedia.org/wikipedia/commons/f/f2/Logo-pwc.png" alt="PwC Logo" class="logo">
                <div class="year-container">
                    <div class="year">2021</div>
                    <div class="status">- current</div>
                </div>
            </div>
            
            <div class="role-container">
                <div id="director-role" class="role" onclick="toggleRole()">
                    Director <span id="role-arrow" class="role-arrow right">▾</span>
                </div>
                <div class="department">of Sustainability & Climate Change unit.</div>
            </div>
            
            <div class="section">
                <div class="section-title-container">
                    <div class="section-title" onclick="toggleLeadership()">
                        Empathetic Leadership <span id="leadership-arrow" class="section-title-arrow right">▾</span>
                    </div>
                </div>
                <div id="leadership-content" class="leadership-content">
                    <p>At PwC, my most significant contribution was <span class="highlight-text">building and mentoring a team of 15 young professionals</span>—ranging from assistants to consultants—and <span class="highlight-text">guiding their development toward managerial roles</span>.</p>
                    <p>I led the administrative, commercial, and technical structuring of each service line within our practice.</p>
                </div>
            </div>
            
            <div class="section achievements-section">
                <div class="section-title-container">
                    <div class="section-title">
                        Achievements
                    </div>
                </div>
                <div id="achievement1" class="achievement-item" data-panel="achievement1-panel" onclick="toggleAchievement('achievement1-panel', 'achievement1-arrow', 'achievement1')">
                    <span class="achievement-bullet">•</span>
                    <span class="achievement-text">Country lead of the Climate Finance Accelerator in Colombia 
                        <span id="achievement1-arrow" class="section-title-arrow right">▾</span>
                    </span>
                </div>
                
                <div id="achievement2" class="achievement-item" data-panel="achievement2-panel" onclick="toggleAchievement('achievement2-panel', 'achievement2-arrow', 'achievement2')">
                    <span class="achievement-bullet">•</span>
                    <span class="achievement-text">World Economic Forum Fellow Carbon Markets Innovation Initiative 
                        <span id="achievement2-arrow" class="section-title-arrow right">▾</span>
                    </span>
                </div>
                
                <div id="achievement3" class="achievement-item" data-panel="achievement3-panel" onclick="toggleAchievement('achievement3-panel', 'achievement3-arrow', 'achievement3')">
                    <span class="achievement-bullet">•</span>
                    <span class="achievement-text">Building a team and creating new services 
                        <span id="achievement3-arrow" class="section-title-arrow right">▾</span>
                    </span>
                </div>
                <div class="achievements-bottom-line"></div>
            </div>
            
            <div class="skills">
                <div class="skills-title">Skills</div>
                <div class="info-icon">i</div>
            </div>
        </div>
        
        <!-- Expandable Panels -->
        <div id="role-details-panel" class="expandable-panel role-details-panel">
            <div class="panel-section">
                <h4>What did I do?:</h4>
                <p>I <span class="blue-text">lead a dynamic team</span> of professionals dedicated to helping organizations <span class="blue-text">navigate the complexities of sustainability and climate change</span>.</p>
            </div>
            <div class="panel-section">
                <h4>How did I do it?:</h4>
                <p>With a blend of <span class="blue-text">strategic vision and hands-on expertise</span>, I collaborate with clients to develop tailored solutions that <span class="blue-text">drive positive environmental impact while delivering business value</span>.</p>
            </div>
        </div>
        
        <div id="leadership-panel" class="expandable-panel leadership-panel">
            <div class="panel-section">
                <h4>Empathetic Leadership Approach:</h4>
                <p>As a leader, I focus on understanding team members' strengths and growth areas, providing personalized mentorship opportunities while creating a collaborative environment where innovative ideas can flourish.</p>
                <p>My approach centers on balancing technical excellence with personal development, ensuring team members gain exposure to diverse projects while developing specialized expertise.</p>
            </div>
        </div>
        
        <div id="achievement1-panel" class="expandable-panel achievement1-panel">
            <div class="panel-section">
                <p>Successfully led the implementation of the Climate Finance Accelerator In collaboration with the PwC UK team, the Climate Finance Accelerator program aims to unlock financing for low-carbon projects in middle-income countries across Africa, Asia, and Latin America. 
                    It is a technical assistance program funded by International Climate Finance (ICF) through the UK government's Department for Energy Security and Net Zero (DESNZ).
                    In Colombia, we were able to support 25 projects with a value of investment of US $ 76 MM.
                </p>
            </div>
        </div>
        
        <div id="achievement2-panel" class="expandable-panel achievement2-panel">
            <div class="panel-section">
                <p>Selected as a fellow for the World Economic Forum's Carbon Markets Innovation Initiative, contributing expertise in developing innovative carbon market mechanisms.
                Collaborated with global experts to develop recommendations for scaling voluntary carbon markets and improving their integrity and effectiveness.</p>
            </div>
        </div>
        
        <div id="achievement3-panel" class="expandable-panel achievement3-panel">
            <div class="panel-section">
                <p>Developed and launched new service offerings in climate risk assessment, ESG strategy implementation, and sustainable finance advisory
                Built and mentored a multi-disciplinary team of 15 professionals with expertise across sustainability domains, creating a high-performing practice focused on client impact.</p>
            </div>
        </div>
    </div>
    
    <script>
        // Track the currently active panel
        let activePanel = null;
        
        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            
            // If there's an active panel and it's different from the clicked one, close it
            if (activePanel && activePanel !== panel) {
                activePanel.classList.remove('active');
            }
            
            // Toggle the clicked panel
            panel.classList.toggle('active');
            
            // Update the active panel reference
            if (panel.classList.contains('active')) {
                activePanel = panel;
            } else {
                activePanel = null;
            }
        }
        
        function toggleRole() {
            const roleBox = document.getElementById('director-role');
            const arrow = document.getElementById('role-arrow');
            
            // Toggle expanded class on the role box
            roleBox.classList.toggle('expanded');
            
            // Toggle arrow direction
            arrow.classList.toggle('right');
            
            // Toggle the role details panel
            togglePanel('role-details-panel');
        }
        
        function toggleLeadership() {
            const content = document.getElementById('leadership-content');
            const arrow = document.getElementById('leadership-arrow');
            
            // Toggle expanded class on content
            content.classList.toggle('expanded');
            
            // Toggle arrow direction
            arrow.classList.toggle('right');
            
            // No activar el panel de leadership
            document.getElementById('leadership-panel').classList.remove('active');
            
            // Revalidar todas las posiciones después de cambiar la altura
            setTimeout(validateAllPanelPositions, 300);
        }
        // Nueva función para actualizar posiciones de los paneles de achievements
        function updateAchievementPanelPositions() {
            const achievementItems = document.querySelectorAll('.achievement-item.active');
            
            achievementItems.forEach(item => {
                const panelId = item.getAttribute('data-panel');
                const panel = document.getElementById(panelId);
                
                if (panel && panel.classList.contains('active')) {
                    // Recalcular posición
                    const rect = item.getBoundingClientRect();
                    const cardRect = document.querySelector('.timeline-card').getBoundingClientRect();
                    
                    // Center the panel vertically with respect to the achievement item
                    const centerY = rect.top + (rect.height / 2) - cardRect.top;
                    
                    // Position the panel so it's centered with the achievement
                    panel.style.top = `${centerY - (panel.offsetHeight / 2)}px`;
                }
            });
            
            // Verificar solapamientos después de actualizar posiciones
            checkPanelOverlaps();
        }

        function positionPanelWithAchievement(panel, achievementItem) {
            // Esperar a que los cambios del DOM se completen
            setTimeout(() => {
                // Obtener las posiciones actualizadas después de aplicar márgenes
                const itemRect = achievementItem.getBoundingClientRect();
                const cardRect = document.querySelector('.timeline-card').getBoundingClientRect();
                
                // Calcular la posición vertical central del elemento de achievement
                const centerY = itemRect.top + (itemRect.height / 2) - cardRect.top;
                
                // Establecer la posición del panel para que esté centrado con el achievement
                panel.style.top = `${centerY - (panel.offsetHeight / 2)}px`;
                
                // Asegurarse de que el panel no esté fuera de los límites de la tarjeta
                const panelTop = parseInt(panel.style.top);
                if (panelTop < 0) {
                    panel.style.top = '20px'; // margen mínimo desde arriba
                }
                
                // Verificar superposiciones con otros paneles activos
                checkAndAdjustPanelOverlaps();
            }, 150); // Un pequeño retraso para asegurar que los márgenes se hayan aplicado
        }
        
        function checkAndAdjustPanelOverlaps() {
            // Obtener todos los paneles activos de achievements
            const activePanels = Array.from(document.querySelectorAll('.expandable-panel.active'))
                .filter(panel => panel.id.includes('achievement'));
            
            if (activePanels.length <= 1) return; // No hay necesidad de verificar superposiciones
            
            // Ordenar los paneles por posición vertical (de arriba hacia abajo)
            activePanels.sort((a, b) => parseInt(a.style.top) - parseInt(b.style.top));
            
            // Verificar y ajustar superposiciones, manteniendo una distancia mínima de 60px
            for (let i = 1; i < activePanels.length; i++) {
                const previousPanel = activePanels[i-1];
                const currentPanel = activePanels[i];
                
                const previousBottom = parseInt(previousPanel.style.top) + previousPanel.offsetHeight;
                const currentTop = parseInt(currentPanel.style.top);
                
                // Forzar una distancia mínima de 60px entre paneles
                const minimumGap = 60;
                if (previousBottom + minimumGap > currentTop) {
                    currentPanel.style.top = `${previousBottom + minimumGap}px`;
                }
            }
        }
        
        function toggleAchievement(panelId, arrowId, itemId) {
            const arrow = document.getElementById(arrowId);
            const achievementItem = document.getElementById(itemId);
            const panel = document.getElementById(panelId);
            
            // Toggle active state
            achievementItem.classList.toggle('active');
            arrow.classList.toggle('right');
            
            if (achievementItem.classList.contains('active')) {
                // Activar - añadir márgenes y mostrar panel
                achievementItem.style.marginTop = '80px';
                achievementItem.style.marginBottom = '80px';
                panel.classList.add('active');
                
                // Posicionar el panel después de un breve retraso para que los márgenes se apliquen
                setTimeout(() => {
                    positionPanelWithAchievement(panel, achievementItem);
                    
                    // Importante: después de posicionar este panel, verificar y ajustar todos los paneles
                    setTimeout(validateAllPanelPositions, 50);
                }, 150);
            } else {
                // Desactivar - quitar márgenes y ocultar panel
                panel.classList.remove('active');
                achievementItem.style.marginTop = '';
                achievementItem.style.marginBottom = '';
                
                // Reposicionar todos los paneles restantes después de ocultar este
                setTimeout(validateAllPanelPositions, 150);
            }
        }

        function validateAllPanelPositions() {
            // Primero posicionar cada panel con su achievement correspondiente
            const activeAchievements = document.querySelectorAll('.achievement-item.active');
            
            activeAchievements.forEach(item => {
                const panelId = item.getAttribute('data-panel');
                const panel = document.getElementById(panelId);
                
                if (panel && panel.classList.contains('active')) {
                    // Calcular posición inicial centrada
                    const itemRect = item.getBoundingClientRect();
                    const cardRect = document.querySelector('.timeline-card').getBoundingClientRect();
                    const centerY = itemRect.top + (itemRect.height / 2) - cardRect.top;
                    panel.style.top = `${centerY - (panel.offsetHeight / 2)}px`;
                }
            });
            
            // Luego verificar y ajustar superposiciones
            checkAndAdjustPanelOverlaps();
            
            // En algunos casos extremos, puede ser necesario verificar de nuevo
            setTimeout(checkAndAdjustPanelOverlaps, 50);
        }
        
        function updateAllPanelPositions() {
            // Reposicionar todos los paneles activos con sus elementos correspondientes
            const activeAchievements = document.querySelectorAll('.achievement-item.active');
            
            activeAchievements.forEach(item => {
                const panelId = item.getAttribute('data-panel');
                const panel = document.getElementById(panelId);
                
                if (panel && panel.classList.contains('active')) {
                    positionPanelWithAchievement(panel, item);
                }
            });
        }

        function checkPanelOverlaps() {
            const activePanels = Array.from(document.querySelectorAll('.expandable-panel.active'))
                .filter(panel => panel.id !== 'role-details-panel' && panel.id !== 'leadership-panel');
            
            // Ordenar paneles por posición top (de arriba hacia abajo)
            activePanels.sort((a, b) => {
                return parseInt(a.style.top) - parseInt(b.style.top);
            });
            
            // Verificar solapamientos y ajustar
            for (let i = 1; i < activePanels.length; i++) {
                const previousPanel = activePanels[i-1];
                const currentPanel = activePanels[i];
                
                const previousBottom = parseInt(previousPanel.style.top) + previousPanel.offsetHeight;
                const currentTop = parseInt(currentPanel.style.top);
                
                // Si hay solapamiento, mover el panel actual hacia abajo
                if (previousBottom + 20 > currentTop) { // 20px de espacio mínimo entre paneles
                    currentPanel.style.top = `${previousBottom + 20}px`;
                }
            }
        }
        
        // Close panels when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.expandable-panel') && 
                !event.target.closest('.role') && 
                !event.target.closest('.section-title') && 
                !event.target.closest('.achievement-item')) {
                
                // Reset Director box if clicked outside
                if (!event.target.closest('.role')) {
                    document.getElementById('director-role').classList.remove('expanded');
                    document.getElementById('role-arrow').classList.add('right');
                    document.getElementById('role-details-panel').classList.remove('active');
                }
                
                // Reset Leadership arrow if clicked outside
                if (!event.target.closest('.section-title')) {
                    document.getElementById('leadership-content').classList.remove('expanded');
                    document.getElementById('leadership-arrow').classList.add('right');
                }
                
                // Reset all achievement panels and styles
                document.querySelectorAll('.achievement-item').forEach(item => {
                    item.classList.remove('active');
                    // Eliminar márgenes
                    item.style.marginTop = '';
                    item.style.marginBottom = '';
                });
                
                document.querySelectorAll('.achievement-item .section-title-arrow').forEach(arrow => {
                    arrow.classList.add('right');
                });
                
                document.querySelectorAll('.expandable-panel').forEach(panel => {
                    if (panel.id !== 'role-details-panel' && panel.id !== 'leadership-panel') {
                        panel.classList.remove('active');
                    }
                });
            }
        });
        
        // Initialize arrows to point right
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('role-arrow').classList.add('right');
            document.getElementById('leadership-arrow').classList.add('right');
            document.querySelectorAll('.achievement-item .section-title-arrow').forEach(arrow => {
                arrow.classList.add('right');
            });
        });
    </script>
</body>
</html>